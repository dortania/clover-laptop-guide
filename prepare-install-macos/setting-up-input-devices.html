
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Setting up Input Devices · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    

    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="usb-pre-setup.html" />
    
    
    <link rel="prev" href="choosing-a-macbook-smbios.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../a-guide-to-build-guides.html">
            
                <a href="../a-guide-to-build-guides.html">
            
                    
                    A Guide to Build Guides
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Before you start</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../before-you-start/know-your-hardware.html">
            
                <a href="../before-you-start/know-your-hardware.html">
            
                    
                    Know Your Hardware
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../before-you-start/bios-configuration.html">
            
                <a href="../before-you-start/bios-configuration.html">
            
                    
                    BIOS Configuration
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Necessary Skills & Terminology</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../useful-skills-terminology/a-little-unix-never-hurt-anyone.html">
            
                <a href="../useful-skills-terminology/a-little-unix-never-hurt-anyone.html">
            
                    
                    A Little UNIX Never Hurt Anyone!
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../useful-skills-terminology/just-enough-git.html">
            
                <a href="../useful-skills-terminology/just-enough-git.html">
            
                    
                    Just Enough GIT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../useful-skills-terminology/whats-an-efi.html">
            
                <a href="../useful-skills-terminology/whats-an-efi.html">
            
                    
                    What's an EFI?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../useful-skills-terminology/what-about-kexts.html">
            
                <a href="../useful-skills-terminology/what-about-kexts.html">
            
                    
                    What about KEXTs?
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Installing macOS</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="preparing-the-usb-media.html">
            
                <a href="preparing-the-usb-media.html">
            
                    
                    Preparing the USB Media
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="macos-memory-allocation.html">
            
                <a href="macos-memory-allocation.html">
            
                    
                    macOS Memory Allocation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="smc-emulation.html">
            
                <a href="smc-emulation.html">
            
                    
                    SMC Emulation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="disabling-touchid.html">
            
                <a href="disabling-touchid.html">
            
                    
                    Disabling TouchID lookup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="clover-template.html">
            
                <a href="clover-template.html">
            
                    
                    CLOVER Template
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="display-configuration.html">
            
                <a href="display-configuration.html">
            
                    
                    Display Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="choosing-a-macbook-smbios.html">
            
                <a href="choosing-a-macbook-smbios.html">
            
                    
                    Choosing a MacBook SMBIOS
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="4.8" data-path="setting-up-input-devices.html">
            
                <a href="setting-up-input-devices.html">
            
                    
                    Setting up Input Devices
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.9" data-path="usb-pre-setup.html">
            
                <a href="usb-pre-setup.html">
            
                    
                    USB pre-setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.10" data-path="pre-installation-review.html">
            
                <a href="pre-installation-review.html">
            
                    
                    Pre-Installation Review
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.11" data-path="installing-the-operating-system.html">
            
                <a href="installing-the-operating-system.html">
            
                    
                    Installing the Operating System
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Post Installation</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../post-installation/adding-clover-to-the-bios.html">
            
                <a href="../post-installation/adding-clover-to-the-bios.html">
            
                    
                    Adding CLOVER to Your Boot Drive
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../post-installation/configuring-usb-ports.html">
            
                <a href="../post-installation/configuring-usb-ports.html">
            
                    
                    Configuring USB Ports
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../post-installation/enabling-wifi-and-bluetooth.html">
            
                <a href="../post-installation/enabling-wifi-and-bluetooth.html">
            
                    
                    Enabling WIFI & Bluetooth
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="../post-installation/setting-up-ethernet-adapters.html">
            
                <a href="../post-installation/setting-up-ethernet-adapters.html">
            
                    
                    Setting up Ethernet Adapters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="../post-installation/configuring-your-audio-device.html">
            
                <a href="../post-installation/configuring-your-audio-device.html">
            
                    
                    Configuring your Audio Device
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Battery/Power Management</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../battery-power-management/locate-that-missing-battery.html">
            
                <a href="../battery-power-management/locate-that-missing-battery.html">
            
                    
                    Locate that Missing Battery
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../battery-power-management/correcting-sleep-problems.html">
            
                <a href="../battery-power-management/correcting-sleep-problems.html">
            
                    
                    Correcting Sleep Problems
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../battery-power-management/optimizing-battery-life.html">
            
                <a href="../battery-power-management/optimizing-battery-life.html">
            
                    
                    Optimizing Battery Life
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Extras</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../extras/enabling-filevault.html">
            
                <a href="../extras/enabling-filevault.html">
            
                    
                    Enabling FileVault
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../extras/display-rotation.html">
            
                <a href="../extras/display-rotation.html">
            
                    
                    Display Rotation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../extras/dual-booting-with-bluetooth-devices.html">
            
                <a href="../extras/dual-booting-with-bluetooth-devices.html">
            
                    
                    Dual booting​ with Bluetooth Devices
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="../extras/asussmc.html">
            
                <a href="../extras/asussmc.html">
            
                    
                    ASUS Function Keys
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Setting up Input Devices</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="setting-up-input-devices">Setting up Input Devices</h1>
<p>Input devices on laptops come in a few varietys, each with its own set of quirks. Fortunately, we&apos;ve reached a clearing and you can rest a bit as this should be one of the simpler things to set up on your laptop. Let&apos;s start with keyboards, because they&apos;re easy.</p>
<h2 id="keyboards">Keyboards</h2>
<p>Most laptop keyboards are PS/2 devices. Yep, it&apos;s 2019 and PS/2 is still a thing. Crazy, huh? There&apos;s some good news here, you only need to install two kexts to get it working and then you can put the USB keyboard that you&apos;re probably using right now back in the closet where it belongs. The kexts that you need are VoodooPS2Controller, and VoodooInput.  You can find them over on Github.</p>
<p><a href="https://github.com/acidanthera/VoodooPS2" target="_blank">VoodooPS2 Project Page @ Github</a></p>
<p><a href="https://github.com/acidanthera/VoodooInput" target="_blank">VoodooInput Project Page @ Github</a></p>
<p>Download the latest release and add it to CLOVER placing the VoodooPS2Controller kext in your C/k/O folder. The path should match the tree below.</p>
<pre><code class="lang-text">EFI
&#x2514;&#x2500;&#x2500; CLOVER
    &#x2514;&#x2500;&#x2500; kexts
        &#x2514;&#x2500;&#x2500; Other
            &#x251C;&#x2500;&#x2500; VoodooInput.kext
            &#x2514;&#x2500;&#x2500; VoodooPS2Controller.kext
</code></pre>
<h2 id="touchpads">Touchpads</h2>
<p>There are generally two types of touchpads on laptop computers, I2C devices and PS2 devices. If you have a PS2 touchpad, you&apos;re probably covered by VoodooPS2Controller, so reboot and see if it works. If you&apos;re still reading this, it&apos;s probably not working because it&apos;s I2C.</p>
<p>In case your touchpad is acting weird or lacks gestures, use the VoodooPS2Controller from Rehabman.</p>
<p><a href="https://bitbucket.org/RehabMan/os-x-voodoo-ps2-controller/downloads/" target="_blank">VoodooPS2Controller Project - Rehabman @ BitBucket</a></p>
<h2 id="touch-screens">Touch Screens</h2>
<p>Good news! If you have one of those fancy 2-in-1 laptops with a touch screen, it is probably supported by VoodooI2C as well! Touch screens are I2C devices, so configuring your touchpad should also enable your touch display. You may find that it&apos;s not working right away though, and that&apos;s OK! It&apos;s probably just due to your USB ports not being fully configured yet.</p>
<h2 id="prerequisites-for-voodooi2c">Prerequisites for VoodooI2C</h2>
<p>I2C touchpads are interesting in that they fully integrate into macOS and support gestures and everything that a real Apple Trackpad supports, except force touch (obviously). Not all I2C touchpads are supported by I2C or without extra hotpatches to configure pinning. An unusual requirement for the trackpad to work is functional battery status reporting, so if you don&apos;t have that working yet skip to that section and then come back. Most though work fine with just two hotpatches that are pretty simple to install. Let&apos;s add them now. First, download SSDT-XOSI.dsl.</p>
<p><a href="https://raw.githubusercontent.com/RehabMan/OS-X-Clover-Laptop-Config/master/hotpatch/SSDT-XOSI.dsl" target="_blank">Rehabman&apos;s SSDT-XOSI.dsl @ Github</a></p>
<p>Now that you&apos;ve saved the file, you&apos;ll need to compile it. For that, we need to download maciASL.</p>
<p><a href="https://github.com/acidanthera/MaciASL" target="_blank">maciASL Project @ Github</a></p>
<p>Run maciASL, and open the SSDT-XOSI.dsl that you created previously. Save the file as a binary to CLOVER/ACPI/patched/SSDT-XOSI.aml. Note: When saving as a binary, maciASL will automatically compile the SSDT.</p>
<h3 id="osi-to-xosi-rename">_OSI to XOSI Rename</h3>
<p>Now that you&apos;ve added the XOSI SSDT patch, you need to add a patch to Clover. Open your config.plist with your plist editor of choice and add the following patch under ACPI/DSDT/Patches. If you&apos;re using the guide template this rename already exists so just make sure it&apos;s enabled.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Key</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Comment</td>
<td style="text-align:left">String</td>
<td style="text-align:left">_OSI to XOSI</td>
</tr>
<tr>
<td style="text-align:left">Disabled</td>
<td style="text-align:left">Bool</td>
<td style="text-align:left">False</td>
</tr>
<tr>
<td style="text-align:left">Find</td>
<td style="text-align:left">Data</td>
<td style="text-align:left">5f4f5349</td>
</tr>
<tr>
<td style="text-align:left">Replace</td>
<td style="text-align:left">Data</td>
<td style="text-align:left">584f5349</td>
</tr>
</tbody>
</table>
<p>Save config.plist and close the editor.</p>
<p><div class="alert alert-info hints-alert"><div class="hints-icon"><i class="fa fa-info-circle"></i></div><div class="hints-container"><p>You should have this already if you&apos;re using the config template from before. Make sure it&apos;s enabled.</p>
</div></div></p>
<h3 id="ssdt-gpi0">SSDT-GPI0</h3>
<p>Next we&apos;ll create a stub function for GPI0 using another SSDT patch. Paste the following data into maciASL.</p>
<pre><code class="lang-text">DefinitionBlock (&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;I2C&quot;, 0)
{
    External (_SB.PCI0.GPI0, DeviceObj)
    Scope (_SB.PCI0.GPI0)
    {
        Method (_STA, 0)
        {
            Return (0x0F)
        }
    }
}
</code></pre>
<p>Using maciASL, save this SSDT patch as a binary to CLOVER/ACPI/patched/SSDT-GPI0.aml</p>
<h2 id="installing-voodooi2c">Installing VoodooI2C</h2>
<p>With the hotpatching out of the way, now it&apos;s time to install VoodooI2C. Generally you only want to install VoodooI2C.kext and VoodooI2CHID.kext to C/k/O as this is the proper configuration for most devices regardless of manufacturer. Start there, and then come back after rebooting for a description of the kexts and what their functions are.</p>
<p><a href="https://github.com/alexandred/VoodooI2C" target="_blank">Download VoodooI2C @ Github</a></p>
<h3 id="kexts-and-satellites">Kexts and Satellites</h3>
<p>When configuring VoodooI2C, it is important to only apply the kexts that you need. Generally, most users will need VoodooI2C.kext and VoodooI2CHID.kext. The remaining satellites are for a small number of specific devices. Even if you have an Elan or Synaptics touchpad, you should try the HID kext first. If you do learn that you need a different satallite kext, remove the HID kext before applying it.</p>
<ul>
<li>VoodooI2C - This is the primary device driver that implements Apple&apos;s Trackpad protocols.</li>
<li>VoodooI2CHID - Implements the Microsoft HID device specification.</li>
<li>VoodooI2CElan - Implements support for Elan proprietary devices. (does not work on ELAN1200+, use the HID instead)</li>
<li>VoodooI2CSynaptics - Implements support for Synaptics proprietary devices.</li>
<li>VoodooI2CFTE - Implements support for the FTE1001 touchpad.</li>
<li>VoodooI2CUPDDEngine - Implements Touchbase driver support.</li>
</ul>
<p>The VoodooI2C configuration should match the tree view below.</p>
<pre><code class="lang-text">EFI
&#x2514;&#x2500;&#x2500; CLOVER
    &#x2514;&#x2500;&#x2500; kexts
        &#x2514;&#x2500;&#x2500; Other
            &#x251C;&#x2500;&#x2500; VoodooI2C.kext
            &#x2514;&#x2500;&#x2500; VoodooI2CHID.kext
</code></pre>
<p>I know that you&apos;ve kind of breezed through this one, but we don&apos;t want to make it too easy, so here&apos;s some required reading.</p>
<p><a href="https://voodooi2c.github.io/#index" target="_blank">VoodooI2C Documentation</a></p>
<p>The documentation covers troubleshooting, GPIO pinning, and other topics that may be important tools in troubleshooting any problems you may face while setting up your touchpad device.</p>
<p><div class="alert alert-info hints-alert"><div class="hints-icon"><i class="fa fa-info-circle"></i></div><div class="hints-container"><p>For touchscreens, you can also try VoodooI2C with VoodooI2CHID, if it&apos;s I2C it should work as long as your GPI0 and XOSI are properly fixed, if it&apos;s USB, there is a chance that it may attach. The VoodooI2C documentation doesn&apos;t guarantee that all USB touchscreens will work.</p>
</div></div></p>
<h2 id="bluetooth-keyboard-and-mice">Bluetooth Keyboard and Mice</h2>
<p>One of the common questions asked is if users can use their bluetooth keyboard and mouse in the BIOS and CLOVER, and the answer to that is yes..but. In order for these devices to work in pre-boot environments like the BIOS, in CLOVER, or even in the FileVault Prebooter; the bluetooth adapter needs to support a profile called HID Proxy. This profile allows your devices to connect to the adapter before booting the OS and it passes them to the system as a USB keyboard and mouse. Without this profile, it is not possible to use these devices until you&apos;re in the operating system.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="choosing-a-macbook-smbios.html" class="navigation navigation-prev " aria-label="Previous page: Choosing a MacBook SMBIOS">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="usb-pre-setup.html" class="navigation navigation-next " aria-label="Next page: USB pre-setup">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Setting up Input Devices","level":"4.8","depth":1,"next":{"title":"USB pre-setup","level":"4.9","depth":1,"path":"prepare-install-macos/usb-pre-setup.md","ref":"prepare-install-macos/usb-pre-setup.md","articles":[]},"previous":{"title":"Choosing a MacBook SMBIOS","level":"4.7","depth":1,"path":"prepare-install-macos/choosing-a-macbook-smbios.md","ref":"prepare-install-macos/choosing-a-macbook-smbios.md","articles":[]},"dir":"ltr"},"config":{"plugins":["theme-default","-lunr","-search","search-plus","addcssjs","hints"],"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"fontsettings":{"theme":"night","family":"sans","size":2},"search-plus":{},"addcssjs":{"css":[],"js":[]},"hints":{"danger":"fa fa-exclamation-circle","info":"fa fa-info-circle","tip":"fa fa-mortar-board","working":"fa fa-wrench"},"highlight":{},"sharing":{"facebook":false,"twitter":false,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":[]},"theme-default":{"showLevel":false,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}}},"theme":"default","pdf":{"pageBreaksBefore":"/","headerTemplate":null,"paperSize":"a4","margin":{"right":62,"left":62,"top":36,"bottom":36},"fontSize":12,"fontFamily":"Arial","footerTemplate":null,"chapterMark":"pagebreak","pageNumbers":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"links":{"sharing":{"google":false,"facebook":false,"twitter":false,"weibo":false,"all":false}},"gitbook":"*"},"file":{"path":"prepare-install-macos/setting-up-input-devices.md","mtime":"2020-04-16T13:51:23.747Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-04-16T13:52:13.082Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    

    </body>
</html>

